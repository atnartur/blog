---
title: Стачка 2019
date: 2019-04-28 18:59:33
tags:
    - Стачка
    - конференции
category: 
    - О разработке
---

На [Стачку](https://nastachku.ru/) я приехал уже второй раз. По сравнению с [первым разом (2017)](/posts/2017/nastachku2017/) все стало НАМНОГО лучше и удобнее. Возможно, улучшения произошли еще в том году, но обстоятельства сложились таким образом, что я не смог съездить на конференцию "Стачка 2018". В статье - очень краткие конспекты и отзывы о докладах со "Стачки 2019", а также отзыв о самом мероприятии в целом.

<!--more-->

![Стачка](/content/2019/nastachku2019/logo.png)

В этом году удалось найти намного больше полезной информации для себя, глаза иногда разбегались, но изредка были и моменты, когда они не знали, куда бежать. В целом впечатления от конференции исключительно положительные. 

Ниже немного расскажу о некоторых докладах, которые мне особенно понравились. Буду прикреплять ссылки на странички докладов и, чуть позже, на презентации (если они все-таки появятся в сети).

## Управление продуктом и Agile

В последнее время все больше и больше интересуюсь управлением в IT, поэтому было интересно посетить именно эту секцию. Полностью согласен с авторами подскаста ["Веб-стандарты"](https://github.com/web-standards-ru/podcast): на конференциях нужно посещать не знакомые темы, а то, что менее знакомо. В таком случае можно получить намного больше полезной и информации, а не еще раз услышать то, что уже знаешь.

### STATIK

[Михаил Вязанкин рассказал о введении Kanban системы с помощью метода STATIK](https://nastachku.ru/kak-bystro-zapustit-kanban-sistemu-metod-statik-dlya-nachinayuschih). Если кратко, чтобы ввести Kanban систему, нужно сделать шаги со слайда ниже: 

![S.T.A.T.I.K](/content/2019/nastachku2019/statik.jpg)

*(Прошу прощения, фотография с задних рядов. Если появятся слайды, приложу в фото в нормальном качестве.)*

Все сводится к пониманию процесса разработки всей командой в целом.  Kanban-система сделанная для одного проекта скорее всего не подойдет для другого, нужно всегда смотреть на особенности предметной области и подстраиваться под них и проектировать процесс с учетом целей, задач и темпа проекта.

![S.T.A.T.I.K](/content/2019/nastachku2019/workflow_mapping.jpg)

### Парное программирование в Dodo Pizza

[Антон Бевзюк поделился опытом парного программирования](https://nastachku.ru/kak-ne-paritsya-v-pare.-opyt-parnogo-programmirovaniya).

![Парная станция](/content/2019/nastachku2019/dodo_pair_station.jpg)

В их компании в некоторых отделах у каждого сотрудника на рабочем месте к одному комьютеру подключено по два монитора, мышки и клавиатуры. Это позволяет проводить сессии парного программирования удобным для тела образом. Работа в паре должна вестись с перерывами на 10-15 минут каждый час и не должна превышать 5-6 часов в день, иначе будет накапливаться сильная усталость.

Чтобы навигатор (тот, кто советует) не терял фокус на работе, а драйвер (тот, кто пишет код) не уставал, кроме перерывов, можно применять разные практики парного программирования:
- При TDD разработке можно чередовать роли при переходе к каждому следующему тесту.
- Для избежания споров драйвер может стать "голосовым вводом" в течение небольшого промежутка времени. (*"Друг, просто доверься мне, давай сделаем таким образом, а потом посмотрим, что сделаем с этим кодом"*)

Парное программирование решает несколько задач:
- введение новичков в курс дела,
- ускорение решения сложных задач,
- обучение новым технологиям и передача опыта.

Вот фото с реального рабочего процесса при таком подходе (обратите внимание на эмоции):

![Парное программирование в Dodo](/content/2019/nastachku2019/dodo_pair.jpg)

### Я хочу ехать, а не шашечки

[Дмитрий Абрамов рассказал](https://nastachku.ru/ya-hochu-ehat-a-ne-shashechki.-kak-uskorit-komandu-ne-izuchaya-etot-vash-agile), как с помощью нескольких простых правил значительно улучшить работу команды по Agile:
- Ставьте лимиты на количество задач в определенном статусе - человек не может делать несколько дел одновременно.
- Огромный беклог не нужен: все знают, какие 10 задач самые важные, но никто не знает, что важнее для проекта - 56ая задача в беклоге или 58ая.
- Сам беклог нужно разделить на 3 части (новые задачи, баги и костыли), а затем определить, какой процент времени команда будет тратить на каждую из частей этого беклога.
- Для понимания бизнеса создаем отдельную доску в лоб: Todo, In progress, Done, и неважно, что в разработке In progress делится еще на кучу статусов.

![](/content/2019/nastachku2019/checkers.jpg)![](/content/2019/nastachku2019/checkers2.jpg)

### О росте компании

[Ренат Габдуллин поделился опытом сохранения качества при росте компании](https://nastachku.ru/kak-sohranit-kachestvo-pri-roste). Кратко:
- Фиксируем принципы работы компании - куда и зачем мы все движемся.
- "Хочешь похоронить вопрос - задай его в чат". Поэтому если вопрос порождает обсуждение - нужно менять канал взаимодействия.
- Фиксируем правила работы сотрудников - чем больше компания, тем меньше возможностей поговорить с каждым, установить дружеские отношения и объяснить, почему все так устроено и как нужно делать. Надо научиться быстрее нанимать людей, вводить их в курс дела и быстрее делать кадровые перестановки.
- Находим мотиваторов на уровне линейных руководителей, а не только в высшем руководстве.
- Развиваем сотрудников.
- Фильтруем проекты.

![](/content/2019/nastachku2019/chats.jpg)![](/content/2019/nastachku2019/baby.jpg)

## Разработка

### Видеозвонки в Одноклассниках

[Александр Тоболь рассказал](https://nastachku.ru/videozvonki-pod-kapotom-ot-millionov-v-sutki-do-100-uchastnikov-v-odnoy-konferencii) о том, как они разрабатывали систему видеозвонков. 

Оказалось, что 
- Whatsapp (и еще некоторые приложения) поддерживает только 4 человека в видеоконференции, потому что данные передаются peer to peer, и при увеличении количества участников все упирается в ширину канала.
- Hangouts тратит больше зарядки и трафика, чем конкуренты, потому что в целях оптимизации серверной инфраструктуры и скорости видео с камеры рендерится в двух качествах (HD и похуже) сразу же на устройстве пользователя.  

В итоге в Одноклассниках используются разные подходы при звонках с разным количеством человек. А на последнем слайде в сравнительной таблице Одноклассники по возможностям догнали Zoom (ну что, скайп теперь точно [не нужен](https://twitter.com/atnartur/status/1120356958001930240)? :)

### О жизни Frontend-разработчика

[Душевный рассказ о тернистом жизненном пути Михаила Синякова](https://nastachku.ru/karernye-vozmozhnosti-programmista-junior-middle-senior-a-dalshe-to-chto) снова подтвердил мои мысли о том, что в любой момент времени нужно стремиться к бОльшему, менять мир вокруг себя и развиваться, как бы тяжело не было в конкретный момент времени - Михаил прошел путь от студента неИТ факультета УЛГУ, работы охранником за 10к, веб-мастером за 7к до frontend тимлида в Ростелекоме.

В конце было немного о том, что разделение на junior/middle/senior скорее не про уровень знаний, а про способность взять на себя ответственность.

Кстати, это единственный доклад с секции "Карьера и кадры", который я посетил. Однако он имеет отношение к разработке, поэтому пусть будет в этой часте статьи :) 

### PostgreSQL 12 и неизвестные БД

[Олег Бартунов рассказал](https://nastachku.ru/chto-novogo-ozhidaetsya-v-pg12), что в PostgreSQL 12 все, как обычно, быстрее выше сильнее круче быстрее и так далее. А еще поиск по JSONB полям будет еще быстрее. В общем, надо обновляться.

[Александр Миловиднов показал](https://nastachku.ru/razrabotchiki-ostalis-neizvestny) проекты закрывшихся баз данных: почему проект приостановлен, кем он разрабатывался, с какой целью, и главное, какие архитектурные и технологические решения использовались. Некоторый опыт был перенят другими новыми и крутыми проектами.

### Как делается оптимизация?

[Андрей Аксенов из Avito показал](https://nastachku.ru/kak-delaetsya-optimizaciya), как быстро обработать большой CSV-файл на C++. Или на Go. Или на Python. Да даже на PHP все работает почти так же. В общем, выбор технологий не так важен, важны алгоритмы и понимание работы компьютера. Хотел вставить сюда скрин страшного C++ кода, но поберегу ваше зрение ~~и мозг~~, потому что качество фотографии отвратительное.

### Аварии помогают учиться

[Алексей Кирпичников из Контура объяснил](https://nastachku.ru/avarii-pomogayut-uchitsya), как (сразу после инцидента по шаблону с прикреплением временных меток, скриншотов из чата, мониторинга...) и зачем (для обсуждения с командой и решения проблем в рамках одной команды и всей компании) писать постмортемы - отчеты о произошедших в ИТ инфраструктуре инцидентах.

![](/content/2019/nastachku2019/postmortems.jpg)

### Топ ошибок при работе с PostgreSQL

[Алексей Лесовский попросил](https://nastachku.ru/top-oshibok-so-storony-razrabotki-pri-rabote-s-postgresq) быть аккуратнее с ORM, транзакциями; использовать SSD для серверов БД; поправлять конфиги, адаптируя их к железу (а не оставлять дефолты); мониторить нагрузку; не бояться репликации и партиционирования; не использовать Postgres для всего подряд (логи должны быть не в основной БД).

### От отдела эксплуатации до SRE

[Олег Блохин рассказал](https://nastachku.ru/dodo-pizza-ot-otdela-ekspluatacii-do-sre) о том, как ИТ инфраструктура Dodo Pizza выросла с двух человек и 1 сервера до кучи ресурсов в Azure и как они это все поддерживают.

В компании создается новая команда SRE, которые по сути является командой разработчиков с хорошими знаниями в системном администрировании и способностями поддерживать проекты на этапе эксплуатации. В ответственность этой команды входят: availability, latency, performance, efficiency, change management, monitoring, emergency response, capacity planning.

![](/content/2019/nastachku2019/dodo_sre1.jpg)

![](/content/2019/nastachku2019/dodo_sre2.jpg)

Команду решили назвать именно SRE, а не DevOps, потому что у термина SRE есть сложившееся понимание (благодаря книгам от Google), в то время как DevOps понимается всеми по-разному, а люди, которые откликаются на такие вакансии, обычно слабо понимают и в инфраструктуре, и в коде.

Также Олег подкрепил мои мысли о том, что книга ["Философия DevOps" (в оригинале "Effective DevOps")](https://www.ozon.ru/context/detail/id/140385054/) не несет в себе достаточно качественной информации. Там в осномнов про "давайте жить дружно", и лишь один полстранички (из 400) про алерты.

И совет прочесть хорошие книжки в конце:

![](/content/2019/nastachku2019/dodo_sre3.jpg)

### Синхронизируем кучу данных между сервисами

[Как это делать - рассказал Андрей Литуненко](https://nastachku.ru/otlozhennye-dannye-nash-mehanizm-obespecheniya-konsistentnosti). В общем, строим инфраструктуру из общей очереди сообщений, Apache Kafka, воркеров, обвешиваем это все бизнес логикой по сохранению во временное хранилище тех данных, которые пока не могут вставиться в БД из-за того, что не пришли некоторые другие данные, и получаем быстро работающую систему. Однако, решение, предложенное Андреем, разрабатывалось некоторое время назад, и в современных реалиях можно было бы сделать проще.

### Как упростить разработку и поддержку приложений?

Абстракции! [Артем Кудряшов продемонстрировал](https://nastachku.ru/kak-razrabatyvat-podderzhivaemye-prilozheniya-perenosimye-bloki-kontrakty-vzaimodeystviya-patterny-proektirovaniya-i-ih-problemy) подход по выделению общей абстракции для микросервисного общения.

![](/content/2019/nastachku2019/abstract.jpg)

## О конференции

Конференция традиционно проходит в [Ленинском мемориале](https://ru.wikipedia.org/wiki/%D0%A3%D0%BB%D1%8C%D1%8F%D0%BD%D0%BE%D0%B2%D1%81%D0%BA%D0%B8%D0%B9_%D0%BC%D1%83%D0%B7%D0%B5%D0%B9-%D0%BC%D0%B5%D0%BC%D0%BE%D1%80%D0%B8%D0%B0%D0%BB_%D0%92._%D0%98._%D0%9B%D0%B5%D0%BD%D0%B8%D0%BD%D0%B0) - музей с лекционными и кинозалами, построенный в память В. И. Ленина. ["Советский ИТ антужар повсюду"](/posts/2017/nastachku2017/), как говорится. 

В 2017 году было много проблем с навигацией и между докладами не было перерывов: в тот момент, когда докладчик понимал, что времени не просто мало, а вообще нет, и начинал в спешке дорассказывать свой доклад, а потом шли вопросы, перекрывая время следующего, мне уже хотелось идти в другую аудиторию на другой доклад, который почему-то находился на совершенно другом этаже и в другом крыле здания. Комментарий в форме отзывов на конференцию не был проигнорирован: в этот раз между всеми докладами были 15-минутные перерывы, докладчики обычно заканчивали основной материал за 15 минут до начала другого доклада, начинали отвечать на вопросы, и можно было спокойно переходить на другую локацию.

В коридорах стало больше волонтеров и информационных кубов-указателей, которые делали навигацию просто очевидной.

![Бейдж](/content/2019/nastachku2019/badge.jpg)

Говорят, что бейдж - это лицо конференции. В этот раз это лицо выглядит как-то странно. Вернее сейчас, когда я приехал домой - оно уже почти никак не выглядит, а через месяц, наверное, совсем растворится. Дело в том, что в этот раз используется какая-то странная краска или бумага, которая на данный момент местами почти стерлась.

Немного расстроил сайт, который постоянно терял авторизацию при работе с мобильника, а примерно через час-два после начала конференции - упал. До сих пор почему-то нет мобильного приложения, в котором можно было бы без боли смотреть расписание докладов. Проблемы с авторизацией делают бессмысленной кнопку "Хочу пойти", которая помогает сформировать личное расписание докладов. А еще было бы неплохо добавить кнопку экспорта "моего расписания" в Google календарь. 

Воскресный кросс, из-за которого напрочь перекрыли все подъезды к мемориалу - тоже был великолепен. Водители негодовали, участники опаздывали, спикеры первых докладов жаловались, что к ним никто не пришел. В общем, не надо так.

<blockquote class="twitter-tweet"><p lang="ru" dir="ltr">А вообще доклады на <a href="https://twitter.com/hashtag/%D1%81%D1%82%D0%B0%D1%87%D0%BA%D0%B02019?src=hash&amp;ref_src=twsrc%5Etfw">#стачка2019</a> очень даже хорошие. Иногда даже глаза разбегаются)</p>&mdash; atnartur (@atnartur) <a href="https://twitter.com/atnartur/status/1122016704991780865?ref_src=twsrc%5Etfw">April 27, 2019</a></blockquote> <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>

Спасибо [Stride](http://stride.one) за билеты!

P. S. Если глаза из орбит не вылезут от еще большого количества фотографий слайдов, то [можете посмотреть](https://photos.app.goo.gl/bRpKzGCBaK6H6uCaA).

P. P. S. 24 мая 2019 вставлены скриншоты со слайдов вместо фотографий с экрана.